#计算机网络
##第2章 应用层
###2.1
* 两种主流体系结构：客户机/服务器体系结构（C/S）或对等体系结构（P2P）。
* 常用主机集群（服务器场Server Farm）来创建虚拟服务器，基于C/S架构通常是基础设施密集的，典型的有FTP、Web、Telnet。
* P2P典型应用有文件分发（如BitTorrent）、文件搜索/共享、因特网电话和IPTV。
* 进程通过一个成为**套接字**的软件接口在网络上发送和接受报文，也将套接字称为应用程序和网络之间的**应用程序编程接口（Application Programming Interface, API）**，开发者对于运输层几乎没有控制，仅能：①选择运输层协议；②设定几个运输层参数，如最大缓存，最大报文字段等。
* 服务的要求大概有4点：
    1. 可靠数据传输
    2. 吞吐量
    3. 定时
    4. 安全性
* TCP的加强版本，称为**安全套接字层（Sucure Socket Layer, SSL）**，SSL不是独立的第三种传输层协议，只是对TCP的加强，是在应用层上面实现的。
* Web进程用的是80端口，优先服务进程（SMTP）用的是25端口
* DNS是为其他应用服务的应用层协议

###2.2
* Web的应用协议是超文本传输协议（HyperText Transfer Protocol，HTTP）。Web页面由对象组成（Object），简单的说就是文件，多数WEB页面含有一个基本HTML文件和几个引用对象。
* HTTP可以分为持久链接跟非持久链接，后者每一个TCP连接只传输一个请求报文跟响应报文
* 往返时间（Round-Trip Time，RTT）
* HTTP请求报文格式：  

``` 
<method> <request-UTL> <version>
<headers>

<entity-body>
```
第一行叫请求行，其后继的行叫首部行。请求行有三个字段：方法字段，URL字段和HTTP协议版本。方法字段可以取值GET,POST,HEAD,PUT,DELETE。
如：
```
GET /somedir/page.html HTTP/1.1
Host: www.someschool.edu
Connection:close
User-agent:Mozilla/4.0
Accept-language: fr
```
通过包含 `Connection：close` 首部行，浏览器告诉服务器不使用持久连接。`User-agent`定义用户代理，`Accept-language` 表示想要得到对象的语言版本。
使用GET方法时entity body为空，使用POST时包含的就是用户表单字段输入的值。
HEAD方法类似于GET方法，当服务器收到HEAD请求会用一个HTTP报文进行相应，但是不返回请求对象。
PUT方法常用来将对象上传到指定的Web服务器上面的指定路径。
DELETE方法，用户可以删除服务器上面的对象。
* HTTP相应报文格式：

```
<version> <status><reason-phrase>
<header>

<entity-body>
```
它分成三个部分：初始行，首部行，还有实体主体。
例子：
```
HTTP/1.1 200 OK
Connection: close
Date:Thu, 03, Jul, 2003, 12:00:15 GMT
Server: Apache/1.3.0(Unix)
Last-Modified: Sun, 6 May 2007 09:23:24 GMT
Content-Length: 6821
Content-Type: text/html

(data...data)
```
服务器用 `Connection :close` 首部行告诉客户机在报文发送完后关闭了该TCP连接。 `Date` 首部行指示服务器产生并发送该响应报文的日期和时间。